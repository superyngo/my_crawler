var strBrowserName="gc",strExtnID=getQryStrParamValues("xid"),market=getQryStrParamValues("bmkt"),strExtnName="",pageText1="",pageText2="";function onload(){init(market),setLocalStorageParametersToChromeStorage()}function getQryStrParamValues(e){for(var o=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<o.length;a++){var t=o[a].split("=");if(t[0].toLowerCase()==e.toLowerCase())return null==t[1]?void 0:t[1].toLowerCase()}}function init(e){document.getElementById("marketId").value=e,document.body.className=e,-1!=["ar-sa","fa-ir","he-il","ur-pk","ug-cn"].indexOf(e)&&(document.body.dir="rtl",document.dir="rtl",document.documentElement.lang=e);try{$.getJSON("assets/json/ExtnName/"+strExtnID+"/messages.json",(function(o){strExtnName=o[e]?o[e]:o["en-us"]})),fetch("assets/json/Common/"+e.toLowerCase()+"/messages.json").then((e=>e.json())).then((e=>{var o=e;document.title=o.Heading,pageText1=o.Step2a,pageText2=o.Step1a,$((function(){$.getJSON("scripts/extnDetails.json",(function(e){var o=document.getElementById("image2");bannerImgSource=e[strBrowserName][strExtnID].banner;var a=document.getElementById("logo");logoImageSource=e[strBrowserName][strExtnID].logo,document.getElementById("Step2a").innerHTML=pageText1,document.getElementById("Step1a").innerHTML=pageText2+" "+strExtnName+".",""!=bannerImgSource&&null!=bannerImgSource&&null!=bannerImgSource?o.src=bannerImgSource:$("#image2").hide(),""!=logoImageSource&&null!=logoImageSource&&null!=logoImageSource?a.src=logoImageSource:$("#logo").hide()}))}))})).catch((e=>{}))}catch(e){}}function setLocalStorageParametersToChromeStorage(){chrome.storage.local.set({MigratedLocalStorage:!0}),localStorage.pc?chrome.storage.local.set({PartnerCode:localStorage.pc}):chrome.storage.local.set({PartnerCode:"BG00"}),localStorage.MachineID?chrome.storage.local.set({MachineID:localStorage.MachineID}):chrome.storage.local.get(["MachineID"],(e=>{e.MachineID||chrome.storage.local.set({MachineID:guid()})})),localStorage.channel?chrome.storage.local.set({Channel:localStorage.channel}):chrome.storage.local.set({Channel:"organic"}),localStorage._dpc?-1===localStorage._dpc.indexOf("_")&&localStorage._dpc!==localStorage.channel?chrome.storage.local.set({DPC:localStorage._dpc+"_"+localStorage.channel}):chrome.storage.local.set({DPC:localStorage._dpc}):chrome.storage.local.set({DPC:localStorage.channel}),localStorage.bmkt&&chrome.storage.local.set({Market:localStorage.bmkt})}function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var o=e()+e()+e()+e()+e()+e()+e()+e();return o=o.toLocaleUpperCase(),chrome.storage.local.set({MachineID:o}),o}market||(market="en-us"),window.onload=onload(),0!=strExtnID&&(document.body.style.opacity=1);