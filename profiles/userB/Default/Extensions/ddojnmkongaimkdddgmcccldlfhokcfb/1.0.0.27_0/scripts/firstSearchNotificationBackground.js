function firstSearchNotification(e,t){if(t.url){var i=new RegExp("www\\.bing\\.com\\/search\\?EID=MBHSC&form=.*&pc=.*&q=").test(t.url);chrome.storage.local.get({showFirstSearchNotification:!0},(r=>{i&&r&&r.showFirstSearchNotification?chrome.storage.local.get([MACHINE_ID],(i=>{getBrowserDefaultCookieAndUpdateLocalStorageValues("fsnEvent",i[MACHINE_ID],t.url),chrome.scripting.executeScript({target:{tabId:e},files:["./scripts/firstSearchNotificationContent.js"]}),chrome.storage.local.set({showFirstSearchNotification:!1})})):i&&r&&!r.showFirstSearchNotification&&chrome.tabs.onUpdated.removeListener(firstSearchNotification)}))}}var externalCallback,isEdgeClientHintCheck=navigator.userAgentData&&navigator.userAgentData.brands.find((e=>"Microsoft Edge"===e.brand)),isEdgeUserAgentCheck=-1!=navigator.userAgent.indexOf("Edg");isEdgeClientHintCheck||isEdgeUserAgentCheck||(chrome.tabs.onUpdated.addListener(firstSearchNotification),chrome.runtime.onMessageExternal.addListener((function(e,t,i){return t&&t.url&&t.url.toLocaleLowerCase().includes("https://browserdefaults.microsoft.com/")&&"isExtensionEnabled"==e&&chrome.storage.local.get("firstSearchNotificationDismissed",(e=>{e.firstSearchNotificationDismissed?i({isEnabled:"true"}):externalCallback=i})),!0})),chrome.runtime.onMessage.addListener((function(e){return"notificationDismissed"==e&&(chrome.storage.local.set({firstSearchNotificationDismissed:!0}),externalCallback&&externalCallback({isEnabled:"true"})),!0})),chrome.runtime.onConnectExternal.addListener((e=>{"extensionStatusCheck"==e.name&&e.sender&&e.sender.url&&e.sender.url.toLocaleLowerCase().includes("https://www.bing.com")&&e.onMessage.addListener(((e,t)=>{"pollExtensionStatus"===e&&chrome.storage.local.get("firstSearchNotificationDismissed",(e=>{e.firstSearchNotificationDismissed&&t.postMessage({isEnabled:"true"})}))}))})));